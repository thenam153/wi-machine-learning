<div style="display:flex;flex-direction: column;width: 100%;height: 100%;padding-bottom: 20px; position: relative;" class="slim-scroller">
    <div 
        ng-repeat="(name,step) in self.stepDatas "  
        id="{{step.name}}" 
        ng-init="step.expanded=true" 
        class="block" 
        style="max-width: calc(100vw - 40px); transition: flex 500ms ease-in-out;"
        ng-class="{'show-tab':step.expanded}">
        <div class="tab-header">
            <span style='font-weight:700;float: left;'>{{step.name}}</span>
            <div style="display:flex;">
                <div class="fn-button" ng-click="self.runTask(step.index);">Run</div>
                <div class="fn-button" ng-show="step.expanded" ng-click='step.expanded = !step.expanded'>HIDE TAB</div>
                <div class="fn-button" ng-show="!step.expanded" ng-click='step.expanded = !step.expanded'>Show TAB</div>
            </div>
        </div>
        <div ng-class="{'show-tab':step.expanded}" style="overflow:auto;height: 0;">
            <div class='table-row table-head'>
                <div class="table-block table-left bg"style="width: 60px;justify-content: center;">Active</div>
                <div class="table-block bg"style="width: 60px;justify-content: center">Filter</div>
                <div class="table-block bg">Well</div>
                <div class="table-block bg">Dataset </div>
                <div class="table-block bg"ng-repeat="input in self.inputCurveSpecs track by $index" style="width: 120px">{{input.label}}
                </div>
                <div class="table-block bg" ng-if="step.target" style="width: 120px;">Target {{}}</div>
                <div class="table-block bg" ng-if="step.name != 'Train'" style="width: 120px;">{{step.name}} curve name</div>
            </div>
            <div class='table-row' ng-repeat="(indexDataset,dataset) in step.datasets">
                <div class="table-block table-left" style="width: 60px;justify-content: center;">
                    <!-- <input type="checkbox" ng-model="dataset.use"> -->
                    <label class="switch">
                        <input type="checkbox" checked>
                        <span class="slider round" ng-click="self.askSave = !self.askSave"></span>
                    </label>
                </div>
                <div class="table-block" style="justify-content: center; width: 60px;"
                    ng-click="self.onDiscriminator(dataset)">
                    <span class="fa fa-filter"></span>
                </div>
                <div class="table-block" title='{{dataset.wellName}}'>{{dataset.wellName}}</div>
                <div class="table-block" title='{{dataset.name}}'>{{dataset.name}}</div>
                <div class="table-block"style='overflow:visible;padding:0;width: 120px;'
                    ng-repeat="input in dataset.inputCurveSpecs track by $index">
                    <wi-dropdown-list place-holder="Curve" items="step.selectionList[$index]" hide-delete-button='true'
                        current-select='input.currentSelect'
                        on-item-changed="self.getOnItemChange(name,indexDataset,$index)"></wi-dropdown-list>
                </div>
                <div class="table-block" ng-if="step.name != 'Train'" style="width: 120px;">
                    <input type="text" style="height: 32px;" ng-model="item.resultCurveName"
                        class="form-control wi-form-control">
                </div>
            </div>
        </div>
    </div>
    <div style="position: absolute;" ng-click="self.runAll()" class="float-button ti ti-control-forward">
    </div>
</div>